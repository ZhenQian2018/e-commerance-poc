{"ast":null,"code":"import _objectWithoutProperties from \"/Users/zhen/Documents/marlabs/E-Commerce-sample/flone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/Users/zhen/Documents/marlabs/E-Commerce-sample/flone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zhen/Documents/marlabs/E-Commerce-sample/flone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/zhen/Documents/marlabs/E-Commerce-sample/flone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/zhen/Documents/marlabs/E-Commerce-sample/flone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/zhen/Documents/marlabs/E-Commerce-sample/flone/src/components/auth/PrivateRoute.jsx\";\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { setLoginRedirectUrl } from '../../redux/actions/loginActions';\nimport { CheckLogin } from '../../service/CheckLogin';\nimport setAuthToken from './setAuthToken';\nimport jwt_decode from 'jwt-decode';\nimport AuthenticationService from '../../service/AuthenticationService';\nimport LoginRegister from \"../../pages/other/LoginRegister\";\n\nvar AuthorizedRoute = /*#__PURE__*/function (_React$Component) {\n  _inherits(AuthorizedRoute, _React$Component);\n\n  var _super = _createSuper(AuthorizedRoute);\n\n  function AuthorizedRoute() {\n    _classCallCheck(this, AuthorizedRoute);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(AuthorizedRoute, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props = this.props,\n          Component = _this$props.component,\n          rest = _objectWithoutProperties(_this$props, [\"component\"]);\n\n      localStorage.getItem('jwToken'); //false //sessionStorage.getItem(\"userName\") != null ? true : false;\n      //console.log(isLogged);\n\n      if (localStorage) {\n        setLoginRedirectUrl(this.props.location.pathname);\n      }\n\n      return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n        render: function render(props) {\n          return localStorage.getItem('jwToken') && props != LoginRegister ? /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 21,\n              columnNumber: 32\n            }\n          })) : /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/login-register\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 22,\n              columnNumber: 31\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return AuthorizedRoute;\n}(React.Component);\n\nexport default AuthorizedRoute;","map":{"version":3,"sources":["/Users/zhen/Documents/marlabs/E-Commerce-sample/flone/src/components/auth/PrivateRoute.jsx"],"names":["React","Route","Redirect","setLoginRedirectUrl","CheckLogin","setAuthToken","jwt_decode","AuthenticationService","LoginRegister","AuthorizedRoute","props","Component","component","rest","localStorage","getItem","location","pathname"],"mappings":";;;;;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AACA,SAASC,mBAAT,QAAoC,kCAApC;AACA,SAAQC,UAAR,QAA0B,0BAA1B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,qBAAP,MAAkC,qCAAlC;AACA,OAAOC,aAAP,MAA0B,iCAA1B;;IACMC,e;;;;;;;;;;;;;6BACO;AAAA;;AAAA,wBACqC,KAAKC,KAD1C;AAAA,UACcC,SADd,eACGC,SADH;AAAA,UAC4BC,IAD5B;;AAELC,MAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAFK,CAE0B;AAC/B;;AACA,UAAGD,YAAH,EAAiB;AACbX,QAAAA,mBAAmB,CAAC,KAAKO,KAAL,CAAWM,QAAX,CAAoBC,QAArB,CAAnB;AACH;;AACD,0BACQ,oBAAC,KAAD,oBAAWJ,IAAX;AAAiB,QAAA,MAAM,EAAE,gBAAAH,KAAK,EAAI;AAC9B,iBAAOI,YAAY,CAACC,OAAb,CAAqB,SAArB,KAAiCL,KAAK,IAAEF,aAAxC,gBACI,oBAAC,SAAD,oBAAeE,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,gBAEG,oBAAC,QAAD;AAAU,YAAA,EAAE,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFV;AAGH,SAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADR;AAOH;;;;EAfyBV,KAAK,CAACW,S;;AAkBpC,eAAeF,eAAf","sourcesContent":["\nimport React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { setLoginRedirectUrl } from '../../redux/actions/loginActions'\nimport {CheckLogin } from '../../service/CheckLogin'\nimport setAuthToken from './setAuthToken'\nimport jwt_decode from 'jwt-decode'\nimport AuthenticationService from '../../service/AuthenticationService'\nimport LoginRegister from \"../../pages/other/LoginRegister\";\nclass AuthorizedRoute extends React.Component {\n    render() {\n        const { component: Component, ...rest } = this.props\n        localStorage.getItem('jwToken')//false //sessionStorage.getItem(\"userName\") != null ? true : false;\n        //console.log(isLogged);\n        if(localStorage) {\n            setLoginRedirectUrl(this.props.location.pathname);\n        }\n        return (\n                <Route {...rest} render={props => {\n                    return localStorage.getItem('jwToken')&&props!=LoginRegister\n                            ?  <Component {...props} />\n                            : <Redirect to=\"/login-register\" />\n                }} />\n        )\n    }\n}\n \nexport default AuthorizedRoute"]},"metadata":{},"sourceType":"module"}